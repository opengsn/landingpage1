(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[27],{854:function(e,t,o){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=o.nmd(e);var r=o(323),i=void 0!==n(e)&&e.exports,a="support@readymag.com";function s(e,t){var o=e.split(".");return o.length>1?(o[o.length-2]+="_"+t,o.join(".")):e+"_"+t}var c="Built with Readymag—a tool to design anything on the web.",p=116;function m(e,t){return e?t&&-1===e.indexOf("://")?t+e:e:""}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i?t.host:window.location.protocol+"//"+window.location.host,n=e&&e.screenshot;return n?m(s(n,1024),o):""}function l(e){var t=e.prefix+e.val+e.suffix;if(e.minLength=e.minLength||1,t.length>p){var o=Math.max(e.val.length-(t.length-p+1),e.minLength);t=e.prefix+e.val.substring(0,o)+"…"+e.suffix}return t}function f(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isEmpty(t)||!r.isObject(t))return{};var n=t.emptyTitle?"":t.title,i=e?e.seo&&e.seo.title?e.seo.title:e.title?e.title:"":"",a="",s=t.description||(o.customDomain?"":c),m="";o.customDomain?a=o.forProject?n||"Project":(n?n+" — ":"")+(i||"Page "+e.num):(o.forProject||(a=(i?"‘"+i+"’":"Page "+e.num)+" from "),a+=(n?"‘"+n+"’":"Project")+" by "+t.user.name,o.forProject&&t.description&&(a+=" | Readymag")),m=o.forProject?u(r.findWhere(t.pages,{num:1}),o):u(e,o);var f="";return o.customDomain?o.forProject?f=n?l({prefix:"",val:n,suffix:""}):"Project":n||i?!n&&i?f=l({prefix:"",val:i,suffix:""}):n&&!i?f=l({prefix:"",val:n,suffix:" — Page "+e.num}):n&&i&&(f=l({prefix:"",val:n,suffix:" — "+i,minLength:20})).length>p&&(f=i).length>p&&(f=l({prefix:"",val:i,suffix:""})):f="Page "+e.num:o.forProject?f=n?l({prefix:"‘",val:n,suffix:"’ by "+t.user.name}):"Project by "+t.user.name:n||i?!n&&i?f=l({prefix:"‘",val:i,suffix:"’ from Project by "+t.user.name}):n&&!i?f=l({prefix:"Page "+e.num+" from ‘",val:n,suffix:"’ by "+t.user.name}):n&&i&&(f=l({prefix:"‘"+i+"’ from ‘",val:n,suffix:"’ by "+t.user.name,minLength:20})).length>p&&(f="‘"+i+"’ by "+t.user.name).length>p&&(f=l({prefix:"‘",val:i,suffix:"’ by "+t.user.name})):f="Page "+e.num+" from Project by "+t.user.name,{image:m,title:a||"",description:s||"",tweet:f}}function h(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isEmpty(t)||!r.isObject(t))return{};var n=f(e,t,o),i=t.master_share_pid&&r.find(t.pages,(function(e){return e._id.toString()===t.master_share_pid.toString()})),a=o.forProject?r.findWhere(t.pages,{num:1}):e,s=i||a,c=s.custom_shares;return r.isEmpty(c)||(n.title=c.title||"",n.description=c.description||"",n.tweet=c.tweet||"",c.image?n.image=c.image:s.screenshot?n.image=u(s,o):n.image=""),n}function d(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isEmpty(t)||!r.isObject(t))return{};var n=t.emptyTitle?"":t.title,i="",a="";return o.customDomain?e&&e.num>1?i=(n?n+" — ":"")+(e.title||"Page "+e.num):(i=n||"Project",a=t.description||""):(e&&e.num>1?i=(e.title?"‘"+e.title+"’":"Page "+e.num)+" from ":a=t.description||c,i=n||"Project"),{title:i||"",description:a||"",keywords:""}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:626,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:436;window.open(e,"sharer","width="+t+",height="+o+",toolbar=0,status=0")}e.exports={SUPPORT_MAIL:a,addFilenameComponent:s,defaultDescription:c,maxTweetLen:p,addOrigin:m,removeFilenameComponent:function(e){var t=e.split(".");if(t.length>1){var o=t[t.length-2].split("_");if(o.length>1&&!isNaN(Number(o[o.length-1]))){o.pop();var n=o.join("_");return t[t.length-2]=n,t.join(".")}}return e},getPageScreenshot:u,getDefaultShare:f,getDefaultSEO:d,getFinalShare:h,getFinalSEO:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.isEmpty(t)||!r.isObject(t))return{};var n=d(e,t,o);return n.title=e.seo&&e.seo.title||n.title,n.description=e.seo&&e.seo.description||n.description,n.keywords=e.seo&&e.seo.keywords||n.keywords,n},share:function(e){var t,o=h(e.page,e.mag,{forProject:e.forProject,customDomain:e.customDomain}),n=e.mag.emptyTitle?"":e.mag.title;if(/^https?:\/\//i.test(e.host)||(e.host="http://"+e.host),e.exportBasePath&&(e.host+=e.exportBasePath),/\/$/i.test(e.host)||(e.host+="/"),t=e.forProject?"".concat(e.host).concat(e.customDomain&&!e.customDomainProfile?"":"".concat(e.mag.num_id,"/")):e.exportBasePath?"".concat(e.host).concat(e.page.uri||e.page.num,"/"):"".concat(e.host,"p").concat(e.page.num_id,"/"),e.publishedVersion){var r;if("facebook"===e.tp&&g("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t)),"twitter"===e.tp)r=n?l({prefix:"I’ve just published a project ‘",val:n,suffix:"’"}):"I’ve just published a Project",g("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(r));if("email"===e.tp){var i=encodeURIComponent((e.mag.is_private?"private ":"")+(n?"project ‘"+n+"’":"Project")),a="Check out my "+i,s="Hey, check out my new "+i+": "+t+(e.mag.is_private?encodeURIComponent("\n")+"Password: "+e.mag.pass:"");window.location.href="mailto:?subject="+a+"&body="+s}}else{if("facebook"===e.tp&&g("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t)),"twitter"===e.tp&&g("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(o.tweet)),"gplus"===e.tp&&g("https://plus.google.com/share?url="+encodeURIComponent(t)),"pinterest"===e.tp&&g("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(t)+"&media="+encodeURIComponent(o.image)+"&description="+encodeURIComponent(o.title)),"linkedin"===e.tp&&g("http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(t)+"&title="+encodeURIComponent(o.title)+(o.description?"&summary="+encodeURIComponent(o.description):""),552,460),"email"===e.tp){var c="Check out "+encodeURIComponent(o.title),p=c+encodeURIComponent("\n\n")+t+(e.mag.is_private?encodeURIComponent("\n")+"Password: "+e.mag.pass:"");window.location.href="mailto:?subject="+c+"&body="+p}if("report"===e.tp){var m="Report "+encodeURIComponent(t),u=encodeURIComponent("Please tell us why are you reporting this: ");window.location.href="mailto:support@readymag.com?subject="+m+"&body="+u}}if("report"!==e.tp){var f=e.source+" / "+e.tp+" ("+(e.forProject?"project":"page")+") / "+o.title+" ("+t+")";e.analytics&&e.analytics.sendEvent("Share",f)}}}}}]);
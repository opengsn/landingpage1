(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[33,39,41,34,46],{986:function(e,t,n){"use strict";var r,i,a;n.d(t,{i2:function(){return r},uI:function(){return i},FU:function(){return a}}),function(e){e.hover="hover",e.scroll="scroll"}(r||(r={})),function(e){e.horizontally="horizontally",e.vertically="vertically"}(i||(i={})),function(e){e.bottom="bottom",e.center="center",e.top="top"}(a||(a={}))},1045:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(352),i=n.n(r)().createContext({model:{pageScale:1,pageContentTop:0,magContainerHeight:0,widgetBoxTop:0,isStarted:!1,canBeUsed:!0,isSelected:!1}})},1043:function(e,t,n){"use strict";var r=n(646),i=n(352),a=n.n(i),o=n(784),s=n(660),l=n(308),c=n(690),d=n(698),u=n(738),h=n.n(u),p=n(663);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,g,y=(f=p.breakpoints,g=1,function(e){if(Array.isArray(e))return e}(f)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(f,g)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(f,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],w=((0,r.default)(h()).withConfig({displayName:"RmFooter___StyledText",componentId:"u2b4zy-0"})(["display:inline-block;text-decoration:none;font-style:normal;&:hover{color:",";}"],(function(e){return e._css})),(0,r.default)(h()).withConfig({displayName:"RmFooter___StyledText2",componentId:"u2b4zy-1"})(["font-style:normal;"])),b=(0,r.default)(d.Box).withConfig({displayName:"RmFooter___StyledBox",componentId:"u2b4zy-2"})(["",""],(function(e){return e._css2})),v=(0,r.default)(h()).withConfig({displayName:"RmFooter___StyledText3",componentId:"u2b4zy-3"})(["display:inline-block;text-decoration:none;font-style:normal;&:hover{color:",";}"],(function(e){return e._css3})),_=function(e){var t=e.items,n=e.width,r=e.title,i=e.isMobile;return a().createElement(d.Box,{width:n},a().createElement(d.Box,{borderBottom:"1px solid rgba(128, 128, 128, 0.24)",pb:"6px",mb:"16px"},a().createElement(w,{fontFamily:"Graphik",fontWeight:400,fontSize:16,letterSpacing:-.04,lineHeight:"24px",color:"darkGray"},r)),a().createElement(b,{_css2:t.length>1&&!i?"display: flex; align-items: flex-start; justify-content: space-between;":""},t.map((function(e,n){return a().createElement(d.Box,{key:"ul-".concat(n),mb:i&&e.mobileSeparator?36:void 0},e.items.map((function(e,r){return a().createElement(d.Box,{mr:t.length-1!==n||i?void 0:30,key:"ul-".concat(n,"-li-").concat(r)},a().createElement(v,{as:"a",href:e.url,color:"white",fontFamily:"Graphik",fontWeight:400,fontSize:16,letterSpacing:-.04,lineHeight:"24px",_css3:(0,c.themeGet)("colors.orange")},e.label))})))}))))},x=(0,r.default)(d.Box).withConfig({displayName:"RmFooter___StyledBox2",componentId:"u2b4zy-4"})([""," ",""],(function(e){return e._css4}),(function(e){return e._css5})),S=(0,r.default)(d.Flex).withConfig({displayName:"RmFooter___StyledFlex",componentId:"u2b4zy-5"})(["",""],(function(e){return e._css6})),k=(0,r.default)(d.Flex).withConfig({displayName:"RmFooter___StyledFlex2",componentId:"u2b4zy-6"})(["",""],(function(e){return e._css7}));t.Z=function(){var e=l.ZP.readymag_host,t=(0,i.useContext)(s.BackboneContext).model;return a().createElement(o.default,{query:"(min-width: ".concat(y,")")},(function(n){var r=t&&t.isMobileViewport||!n;return a().createElement(x,{bg:"rgb(40, 40, 40)",height:"100%",width:"100%",_css4:t&&t.transform?"padding: 0 !important; transform: ".concat(t.transform,";"):"",_css5:t&&t.zoom?"zoom: ".concat(t.zoom,";"):""},a().createElement(d.Box,{m:"0 auto",width:r?"100%":1024,height:"100%",p:r?"36px 20px 16px":"58px 20px 16px"},a().createElement(S,{alignItems:"flex-start",justifyContent:"space-between",mb:r?0:38,_css6:r?"display: block":""},a().createElement(_,{title:"Company",isMobile:r,width:r?"100%":230,items:[{mobileSeparator:!0,items:[{label:"About",url:"".concat(e,"/about/")},{label:"Terms of service",url:"".concat(e,"/readymag/terms-and-privacy/")},{label:"Privacy policy",url:"".concat(e,"/readymag/terms-and-privacy/2/")},{label:"Cookie policy",url:"".concat(e,"/readymag/terms-and-privacy/cookie_policy/")},{label:"We are hiring",url:"".concat(e,"/readymag/we-are-hiring/")}]}]}),a().createElement(_,{title:"Product",isMobile:r,width:r?"100%":230,items:[{mobileSeparator:!0,items:[{label:"Product updates",url:"https://medium.com/readymag/product-updates/home"},{label:"Templates",url:"".concat(e,"/templates/")},{label:"Customer stories",url:"".concat(e,"/customers/main/")},{label:"R/masters",url:"".concat(e,"/examples/r-masters/")},{label:"Community",url:"".concat(e,"/readymag/community/")},{label:"Help",url:"https://help.readymag.com/"}]}]}),a().createElement(_,{title:"Readymag editorials",isMobile:r,width:r?"100%":230,items:[{mobileSeparator:!0,items:[{label:"Design Almanac",url:"https://almanac.readymag.com/"},{label:"Design Heroes",url:"https://stories.readymag.com/"},{label:"Enso",url:"https://enso.readymag.com/"},{label:"Designing women",url:"https://designingwomen.readymag.com/"},{label:"Project of the Year",url:"".concat(e,"/projects-of-the-year/")},{label:"Special Projects",url:"".concat(e,"/special-projects/")}]}]}),a().createElement(_,{title:"Follow",isMobile:r,width:r?"100%":230,items:[{mobileSeparator:!0,items:[{label:"Subscribe to newsletter",url:"http://subscribe.readymag.com/"},{label:"YouTube",url:"https://www.youtube.com/channel/UCz3Ylsb-JuM76cS1nsfyCLw"},{label:"Medium",url:"https://medium.com/readymag"},{label:"Facebook",url:"https://www.facebook.com/readymag"},{label:"Instagram",url:"https://www.instagram.com/readymag/"},{label:"Twitter",url:"https://twitter.com/readymag"},{label:"Pinterest",url:"https://www.pinterest.ru/readymagpins/boards/"},{label:"Are.na",url:"https://www.are.na/readymag"},{label:"Dribbble",url:"https://dribbble.com/readymag"}]}]})),a().createElement(k,{alignItems:"flex-start",_css7:r?"display: block;":""},a().createElement(d.Box,{width:r?"100%":252},a().createElement(h(),{fontFamily:"Graphik",color:"darkGray",fontWeight:400,fontSize:12,letterSpacing:-.04,lineHeight:r?"1":"24px"},"Â© ",(new Date).getFullYear()," Readymag Inc.")))))}))}},1044:function(e,t,n){"use strict";n.r(t);var r=n(997),i=n(352),a=n.n(i),o=n(337),s=n.n(o),l=n(660),c=n(1045),d=n(986);function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,s,"next",e)}function s(e){g(a,r,i,o,s,"throw",e)}o(void 0)}))}}var w,b,v,_=r.Z.extend({triggerWidgets:[],initialize:function(e){this.model=new(s().Model)(e),r.Z.prototype.initialize.apply(this,arguments)},render:(v=y(regeneratorRuntime.mark((function e(){var t,r,i,o,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.basePath&&this.numberOfImages){e.next=2;break}return e.abrupt("return");case 2:return this.makeBox("widget-shots"),e.next=5,Promise.resolve().then(n.bind(n,660));case 5:return t=e.sent,r=t.renderReact,e.next=9,Promise.all([n.e(21),n.e(22),n.e(26),n.e(28)]).then(n.bind(n,1114));case 9:return i=e.sent,o=i.Shots,this.stateModel=new(s().Model)(this.getCurrentState()),r({component:function(){return a().createElement(l.CreateContextProvider,{context:c.n,model:d.stateModel},a().createElement(o,{mode:window.RM.screenshot?"screenshoter":"viewer",onFirstRender:d.onFirstRender,onFirstFrameLoaded:d.widgetIsLoaded}))},domElement:this.el,model:this.model}),e.abrupt("return",this);case 15:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)}),getCurrentState:function(){return{pageScale:this.page.scale,pageContentTop:this.page.contentPosition.top,magContainerHeight:this.page.mag.getContainerSizeCached().height,widgetBoxTop:this.calcBoxStyle({calcBBox:!0}).dimensions.top}},getViewerType:function(){return this.page.mag&&this.page.mag.viewOpts&&this.page.mag.viewOpts.viewertype||"vertical"},onFirstRender:function(){var e;(this.rendered=!0,this._scheduleStart&&this.start(),this.playbackType===d.i2.scroll)&&(e=this.isAbove()&&"vertical"===this.getViewerType()?this.page.mag.getScroll():this.page.getScroll(),this.handleScroll(e))},handleScroll:function(e){this.rendered&&this.stateModel.set(m(m({},this.getCurrentState()),{},{currentScrollOffset:e}))},handlePointerMovement:function(e){if(this.rendered){"touches"in e&&"horizontal"===this.getViewerType()&&this.hoverDirection===d.uI.horizontally&&e.stopPropagation();var t="touches"in e?e.touches[0].clientX:e.clientX,n="touches"in e?e.touches[0].clientY:e.clientY,r=e.target;if(r){var i=r.getBoundingClientRect(),a=Modernizr.firefox?1:this.page.scale,o=t/a-i.left,s=n/a-i.top;this.hoverDirection===d.uI.horizontally?this.stateModel.set({hoverPercent:o/i.width}):this.hoverDirection===d.uI.vertically&&this.stateModel.set({hoverPercent:s/i.height})}}},getTriggerWidgets:(b=y(regeneratorRuntime.mark((function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=u(this.triggers),e.prev=2,i=regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.value,i=void 0,e.prev=2,e.next=5,a.page.mag.getWidgetById(n,a.page);case 5:i=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return","continue");case 11:if(i){e.next=13;break}return e.abrupt("return","continue");case 13:if(!i.rendered){e.next=17;break}t.push(i),e.next=20;break;case 17:return e.next=19,new Promise((function(e){return a.listenToOnce(i,"rendered",e)}));case 19:t.push(i);case 20:case"end":return e.stop()}}),e,null,[[2,8]])})),n.s();case 5:if((r=n.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",7);case 7:if("continue"!==e.t0){e.next=10;break}return e.abrupt("continue",10);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),n.e(e.t1);case 17:return e.prev=17,n.f(),e.finish(17);case 20:return t.length||t.push(this),e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,this,[[2,14,17,20]])}))),function(){return b.apply(this,arguments)}),bindTriggers:(w=y(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTriggerWidgets();case 2:this.triggerWidgets=e.sent,this.triggerWidgets.forEach((function(e){e.el instanceof HTMLElement&&(e.el.addEventListener("mousemove",t.handlePointerMovement),e.el.addEventListener("touchmove",t.handlePointerMovement))}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)}),unbindTriggers:function(){var e=this;this.triggerWidgets.forEach((function(t){t.el instanceof HTMLElement&&(t.el.removeEventListener("mousemove",e.handlePointerMovement),t.el.removeEventListener("touchmove",e.handlePointerMovement))}))},start:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r.Z.prototype.start.apply(this,n),this.rendered?(this.playbackType===d.i2.scroll?this.isAbove()&&"vertical"===this.getViewerType()?this.listenTo(this.page.mag,"mag scroll",this.handleScroll):this.listenTo(this.page,"page scroll",this.handleScroll):this.playbackType===d.i2.hover&&this.bindTriggers(),setTimeout((function(){e.stateModel.set({isStarted:!0})}),1)):this._scheduleStart=!0},stop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.Z.prototype.stop.apply(this,t),this.rendered&&(this.stopListening(),this.unbindTriggers(),this.stateModel.set({isStarted:!1}))},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.Z.prototype.destroy.apply(this,t)}});t.default=_},1014:function(e,t,n){"use strict";var r,i,a,o,s=n(350);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.Z=(l(o={},"template-constructor-block-facebook-type_like_button",(0,s.f)(r||(r=c(['\n\t<div class="fb-like fb" data-href="<%-data.url ? data.url : \'http://readymag.com\'%>" <%=data.share_button || data.send_button ? \'data-share="true"\' : \'\'%> data-width="<%=data.w%>" data-show-faces="<%=data.show_faces%>" data-colorscheme="<%=data.theme%>" data-layout="<%=data.layout%>" data-type="data.type_like_button"></div>\n\t<div class="overlay"></div>\n'])))),l(o,"template-constructor-block-facebook-type_page",(0,s.f)(i||(i=c(['\n\t<div class="fb-page fb" data-href="<%-data.url ? data.url : \'https://www.facebook.com/readymag\'%>" data-width="<%=data.w%>" data-height="<%=data.h%>" data-show-facepile="<%=data.show_faces%>" data-colorscheme="<%=data.theme%>" data-tabs="<%=data.show_stream ? \'timeline, events, messages\' : \'\'%>" data-show-border="true" data-small-header="<%=data.small_header%>" data-adapt-container-width="true"></div>\n\t<div class="overlay"></div>\n'])))),l(o,"template-constructor-block-facebook-type_comments",(0,s.f)(a||(a=c(['\n\t<div class="fb-comments fb" data-href="<%-data.url ? data.url : \'http://readymag.com\'%>" data-width="<%=data.w%>" data-num-posts="<%=data.num_posts%>" data-colorscheme="<%=data.theme%>"></div>\n\t<div class="overlay"></div>\n'])))),o)},1034:function(e,t,n){"use strict";var r,i,a,o,s,l,c=n(350);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.Z=(d(l={},"template-constructor-block-twitter-type_tweet",(0,c.f)(r||(r=u(['\n\t<a href="https://twitter.com/share" class="twitter-share-button" data-url="<%-url%>" data-lang="en" data-size="<%=large_button ? \'large\' : \'medium\'%>" data-text="<%- typeof text !== \'undefined\' ? text : \'\'%>">Tweet</a>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_follow",(0,c.f)(i||(i=u(['\n\t<a href="https://twitter.com/<%-username ? username : \'Readymag\'%>" class="twitter-follow-button" data-show-count="false" data-show-screen-name="<%=show_name ? \'true\' : \'false\'%>" data-lang="en" data-size="<%=large_button ? \'large\' : \'medium\'%>">Follow @<%-username%></a>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_hashtag",(0,c.f)(a||(a=u(['\n\t<a href="https://twitter.com/intent/tweet?button_hashtag=<%-hash%>" class="twitter-hashtag-button" data-size="<%=large_button ? \'large\' : \'medium\'%>">Tweet #<%-hash%></a>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_timeline",(0,c.f)(o||(o=u(['\n\t<%=code%>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_embed",(0,c.f)(s||(s=u(['\n\t<%=code%>\n\t<div class="overlay"></div>\n'])))),l)},1011:function(e,t,n){"use strict";n.r(t);var r=n(313),i=n(1009),a=n(1012),o=n.n(a),s=n(341),l=n(308),c=n(999),d=i.default.extend({initialize:function(){i.default.prototype.initialize.apply(this,arguments),this.is_above&&this.mag.on("destroyed",this.destroy)},render:function(){var e=this,t=!1;if(RM.screenshot)window.ServerData.userPermissions&&window.ServerData.userPermissions.can_use_e_commerce&&(t=!0);else{var n=c.Z.getPermissions();n&&n.can_use_e_commerce&&(t=!0)}if(t){if(i.default.prototype.render.apply(this,arguments),!RM.screenshot){this.mag.eCommerceManager.events.on("ecommerce:cartdata:changed",this.renderTotalItems);var r=this["font-family"];if(r&&!l.ZP.systemFontsList.includes(r.toLowerCase())){var a=new(o())(this["font-family"]);a.load().then((function(){e.renderTotalItems(e.mag.eCommerceManager.getCartData())})).catch((function(){e.renderTotalItems(e.mag.eCommerceManager.getCartData())}))}else this.renderTotalItems(this.mag.eCommerceManager.getCartData())}return this}},renderTotalItems:function(e){if(e&&(e.skus||e.prices)){var t=0;for(var n in e.skus)e.skus.hasOwnProperty(n)&&(t+=e.skus[n].cart_count);for(var r in e.prices)e.prices.hasOwnProperty(r)&&(t+=e.prices[r].cart_count);var i=t?"".concat(this.text||""," ").concat(t):this.text||"",a=this.recalcTextInputSize(i);this.renderButtonTextWithSizes(i,a)}},onButtonClick:function(){this.mag.eCommerceManager.changeCartSidebarVisibility()},recalcTextInputSize:function(e){var t,n,i,a,o=this["font-size"],l=this["letter-spacing"],c=this["font-family"],d=this["font-style"],u=this["font-weight"];return this.$textInputSizeAdjuster||(this.$textInputSizeAdjuster=(0,r.Z)("<div/>"),this.$textInputSizeAdjuster.css({position:"absolute",left:"-9999px",top:"-9999px","white-space":"pre",width:"auto"}),(0,r.Z)(document.getElementById("tmp")).append(this.$textInputSizeAdjuster)),this.$textInputSizeAdjuster.addClass("for-text-size-calc").addClass(s.default.generateUUID()),this.$textInputSizeAdjuster.text(e.trim()),this.$textInputSizeAdjuster.css({"font-family":c,"font-style":d,"font-weight":u,"font-size":o+"px","letter-spacing":l+"px"}),t=this.$textInputSizeAdjuster.width(),n=this.$textInputSizeAdjuster.height(),this.$textInputSizeAdjuster.css("letter-spacing",0).text("M"),i=this.$textInputSizeAdjuster.width(),i=2*Math.ceil(i/2),a=this.$textInputSizeAdjuster.height(),0===e.length&&(t=i,n=a),t=2*Math.ceil(t/2),{text_w:t+=i,text_h:n=2*Math.ceil(n/2)}},destroy:function(){return this.mag.eCommerceManager.events.off("ecommerce:cartdata:changed",this.renderTotalItems),this.$textInputSizeAdjuster&&(this.$textInputSizeAdjuster.remove(),this.$textInputSizeAdjuster=null),i.default.prototype.destroy.apply(this,arguments)}});t.default=d},1013:function(e,t,n){"use strict";n.r(t);var r=n(322),i=n(997),a=n(342),o=n(1014),s=i.Z.extend({DO_NOT_WAIT_FOR_PRELOAD:!0,initialize:function(){return i.Z.prototype.initialize.apply(this,arguments),"type_like_box"===this.current_type&&(this.current_type="type_page",this.type_page=this.type_like_box),this},render:function(){return this.makeBox("widget-facebook"),this.rendered=!0,this.started?this.start():!RM.screenshot&&this.widgetIsLoaded(),this},start:function(){if(this.started=!0,this.destroyed||!this.rendered||this.innerRendered)return this;this.innerRendered=!0;var e,t,n=this;return this.current_type?((t=this[this.current_type]).w=this.w,t.h=this.h,"mag"===t.use_own_url?t.url=this.page.mag.getUrl():"page"!==t.use_own_url&&t.url||(t.url=this.page.getUrl()),e=o.Z["template-constructor-block-facebook-"+this.current_type],this.$el.html(e({data:t})).removeClass(["type_like_button","type_page","type_comments"].join(" ")).addClass(this.current_type),"type_comments"===this.current_type?this.$el.css({"overflow-x":"hidden","overflow-y":"auto"}):"type_like_button"!==this.current_type&&this.$el.css({overflow:"hidden"}),a.Z.initFacebookAPI((function(){!n.destroyed&&n.innerRendered&&window.FB.XFBML.parse(n.$el.get(0),(function(){r.Z.delay((function(){!n.destroyed&&n.innerRendered&&(n.widgetIsLoaded(),"type_like_button"===n.current_type&&(n.iframe_w=n.$("iframe").width(),n.iframe_h=n.$("iframe").height()))}),500)}))})),this):(this.widgetIsLoaded(),this)},stop:function(){return this.started=!1,this}});t.default=s},1018:function(e,t,n){"use strict";n.r(t);var r=n(313),i=n(322),a=n(997),o=n(342),s=n(697),l=a.Z.extend({DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-gmaps"),this.$el.html((0,r.Z)('<div class="map-container"></div>')),this.rendered=!0;var e=this.api_key;return this.mag&&this.mag.opts&&this.mag.opts.gmaps_key&&this.mag.opts.gmaps_key!==this.api_key&&(e=this.mag.opts.gmaps_key),o.Z.initGMapsAPI(e,function(){this.destroyed||i.Z.defer(function(){this.destroyed||(s.Z.isOn(this.page.pageViewport,this.mag.getViewportWidth(this.page.pageViewport),this.mag.opts)&&this.scale(),this.map=new google.maps.Map(this.$(".map-container").get(0),{zoom:this.map_zoom,center:new google.maps.LatLng(this.center_lat,this.center_lng),mapTypeId:this.map_type_id||google.maps.MapTypeId.ROADMAP,disableDefaultUI:!this.show_controls,streetViewControl:!1,scrollwheel:void 0===this.scrollwheel||!!this.scrollwheel}),this.marker_lat&&this.marker_lng&&"directions"!==this.current_type&&(this.marker=new google.maps.Marker({map:this.map,position:new google.maps.LatLng(this.marker_lat,this.marker_lng)}),google.maps.event.addListener(this.marker,"click",function(){this.infowindow&&this.infowindow.open(this.map,this.marker)}.bind(this)),this.infowindow=new google.maps.InfoWindow({maxWidth:this.w-100}),this.formatted_address?this.infowindow.setContent(this.formatted_address):(new google.maps.Geocoder).geocode({latLng:new google.maps.LatLng(this.marker_lat,this.marker_lng)},function(e,t){t===google.maps.GeocoderStatus.OK&&e[0]&&this.infowindow.setContent(e[0].formatted_address)}.bind(this))),"directions"===this.current_type&&this.direction_start_lat&&this.direction_start_lng&&this.direction_end_lat&&this.direction_end_lng&&this.direction_route_type?(this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer({preserveViewport:!0}),this.directionsService.route({origin:new google.maps.LatLng(this.direction_start_lat,this.direction_start_lng),destination:new google.maps.LatLng(this.direction_end_lat,this.direction_end_lng),travelMode:google.maps.TravelMode[this.direction_route_type.toUpperCase()]},function(e,t){t===google.maps.DirectionsStatus.OK&&(this.directionsDisplay.setDirections(e),this.directionsDisplay.setMap(this.map),google.maps.event.addListener(this.map,"tilesloaded",function(){this.widgetIsLoaded()}.bind(this)))}.bind(this))):google.maps.event.addListener(this.map,"tilesloaded",function(){this.widgetIsLoaded()}.bind(this)),"custom"===this.current_type&&this.custom_json&&this.map.setOptions({styles:JSON.parse(this.custom_json)}))}.bind(this))}.bind(this)),this},scale:function(){var e=this.mag.getScale(this.page.pageViewport),t=this.$(".map-container");if(s.Z.isCSSZoom())t.css("zoom",1/e);else if(s.Z.isCSSTransform()){var n=100*e,r=(n-100)/2;t.css({transform:"scale("+1/e+") translate(-"+r+"%, -"+r+"%)",width:n+"%",height:n+"%"})}},start:function(){return this.started=!0,this.rendered&&!this.destroyed&&this.map?(google.maps.event.trigger(this.map,"resize"),this.map.setCenter(new google.maps.LatLng(this.center_lat,this.center_lng)),this):this},destroy:function(){return this.map&&google.maps.event.clearListeners(this.map,"tilesloaded"),this.marker&&google.maps.event.clearListeners(this.marker,"click"),a.Z.prototype.destroy.apply(this,arguments)}});t.default=l},995:function(e,t,n){"use strict";n.r(t);var r=n(996),i=n(1e3),a=n(1004),o=n(1009),s=n(1011),l=n(1013),c=n(1015),d=n(1017),u=n(1018),h=n(1019),p=n(1025),m=n(1029),f=n(1030),g=n(1032),y=n(1033),w=n(1007),b=n(1035),v=n(1042),_=n(1044);t.default={addtocart:r.default,audio:i.default,background:a.default,button:o.default,ecommercecart:s.default,facebook:l.default,form:c.default,picture:d.default,gmaps:u.default,hotspot:h.default,iframe:p.default,shape:m.default,slideshow:f.default,text:g.default,twitter:y.default,video:w.default,rmheader:b.default,rmfooter:v.default,shots:_.default}},1042:function(e,t,n){"use strict";n.r(t);var r=n(313),i=n(600),a=n.n(i),o=n(997),s=n(697),l=n(660),c=n(1043);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=o.Z.extend({ignoreScale:!0,render:function(){return this.makeBox("widget-rm-footer"),(0,r.Z)(".widget-rm-footer").css({background:"rgb(40, 40, 40)"}),this.propsModel=new Backbone.Model(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isMobileViewport:!1},this.getStyles())),this.$footer=(0,r.Z)("<div>").appendTo(this.$el).get(0),(0,l.renderReact)({component:c.Z,domElement:this.$footer,model:this.propsModel}),this.rendered=!0,this.widgetIsLoaded(),this},destroy:function(){return a().unmountComponentAtNode(this.$footer),o.Z.prototype.destroy.apply(this,arguments)},getStyles:function(){var e=this.mag.getViewportWidth(this.page.pageViewport);if(s.Z.isOn(this.page.pageViewport,e,this.mag.viewOpts)){var t=1/s.Z.getRatio(e),n=s.Z.isCSSZoom(),r=s.Z.isCSSTransform();return{zoom:n?"".concat(t):null,transform:r?"scale(".concat(t,")"):null}}},onPageResize:function(){o.Z.prototype.onPageResize.apply(this,arguments),this.propsModel.set(this.getStyles())}});t.default=h},1033:function(e,t,n){"use strict";n.r(t);var r=n(322),i=n(997),a=n(854),o=n(342),s=n(1034),l=i.Z.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){var e,t;return this.makeBox("widget-twitter"),this.rendered=!0,this.current_type?("mag"===(t=this[this.current_type]).use_own_url?t.url=this.page.mag.getUrl():"page"!==t.use_own_url&&t.url||(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,r.Z.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:"mag"===t.use_own_url,customDomain:RM.common.isDomainViewer}).tweet),e=s.Z["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),"type_timeline"===this.current_type&&this.$el.find("a").attr({width:this.w,height:this.h}),o.Z.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&r.Z.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,r.Z)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){var e,t,n,i=0,a=!1,o={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(r.Z.bind((function(){i++,this.destroyed?clearInterval(e):(1==(t=this.$el.find("iframe")).length&&(n=o[this.current_type],a=t.contents().find(n).length>0),(a||i>this.CONTENT_WAIT_MAX_TICKS)&&("type_embed"==this.current_type&&t.css({margin:0,"max-width":"100%"}),"type_timeline"==this.current_type&&(console.log("$frame : ",t),t.css({width:"100%",height:"100%!important","max-width":"100%"})),clearInterval(e),setTimeout(r.Z.bind((function(){this.widgetIsLoaded()}),this),this.CONTENT_IMG_WAIT)))}),this),this.CONTENT_WAIT_TICK)}});t.default=l},1012:function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function r(){var e=a;i(e)&&e.a.parentNode&&n(e.g)}var a=e;t(e.b,r),t(e.c,r),i(e)}function o(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,l=null,c=null,d=null;function u(){return null===d&&(d=!!document.fonts),d}function h(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}function p(e,t){return[e.style,e.weight,h()?e.stretch:"","100px",t].join(" ")}o.prototype.load=function(e,t){var i=this,o=e||"BESbswy",c=0,d=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(u()&&!function(){if(null===l)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var m=new Promise((function(e,t){!function n(){(new Date).getTime()-h>=d?t(Error(d+"ms timeout exceeded")):document.fonts.load(p(i,'"'+i.family+'"'),o).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),f=new Promise((function(e,t){c=setTimeout((function(){t(Error(d+"ms timeout exceeded"))}),d)}));Promise.race([f,m]).then((function(){clearTimeout(c),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=g&&-1!=y||-1!=g&&-1!=w||-1!=y&&-1!=w)&&((t=g!=y&&g!=w&&y!=w)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(g==b&&y==b&&w==b||g==v&&y==v&&w==v||g==_&&y==_&&w==_)),t=!t),t&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(c),e(i))}var u=new n(o),m=new n(o),f=new n(o),g=-1,y=-1,w=-1,b=-1,v=-1,_=-1,x=document.createElement("div");x.dir="ltr",r(u,p(i,"sans-serif")),r(m,p(i,"serif")),r(f,p(i,"monospace")),x.appendChild(u.a),x.appendChild(m.a),x.appendChild(f.a),document.body.appendChild(x),b=u.a.offsetWidth,v=m.a.offsetWidth,_=f.a.offsetWidth,function e(){if((new Date).getTime()-h>=d)x.parentNode&&x.parentNode.removeChild(x),t(Error(d+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(g=u.a.offsetWidth,y=m.a.offsetWidth,w=f.a.offsetWidth,l()),c=setTimeout(e,50)}}(),a(u,(function(e){g=e,l()})),r(u,p(i,'"'+i.family+'",sans-serif')),a(m,(function(e){y=e,l()})),r(m,p(i,'"'+i.family+'",serif')),a(f,(function(e){w=e,l()})),r(f,p(i,'"'+i.family+'",monospace'))}))}))},e.exports=o}()}}]);
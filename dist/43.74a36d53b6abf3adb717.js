(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[43],{1026:function(t,i,e){"use strict";var s=e(313),n=e(337),r=e.n(n),o=e(322),a=e(1027),c=e.n(a),d=e(341),l=e(308),h=e(342),u=e(931),p=e(1028),m=e.n(p);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g={},b={findPlugin:function(t){var i=m()(t.code,t);return o.Z.find(g,(function(t,e){return e.toLowerCase()===i}))}},w=r().View.extend({embed_type:null,containerSelector:null,resizable:!0,proportional:!1,forceFrameSize:!1,initialize:function(t){this.block=t.block,this.widget=t.widget,o.Z.bindAll(this),this.isInViewer=RM.viewerRouter||RM.constructorRouter&&RM.constructorRouter.preview},parse:function(t,i){return i(t)},sanitize:function(t){return(0,s.Z)(t)},draw:function(t){t()}});function v(t,i){if(t){var e=["allow-top-navigation","allow-top-navigation-by-user-activation","allow-modals","allow-popups","allow-popups-to-escape-sandbox"],s=i&&Array.isArray(i)?i.filter((function(t){return!o.Z.contains(e,t.toLowerCase())})):["allow-scripts","allow-forms","allow-same-origin"];t.attr("sandbox",s.join(" "))}}b.instagramEmbedCallbacks=[],b.initInstagram=function(t){if(window.instgrm&&window.instgrm.Embeds&&o.Z.isFunction(window.instgrm.Embeds.process))return instgrm.Embeds.process(),t();b.instagramEmbedCallbacks.push(t),b.instagramInitXhr&&b.instagramInitXhr.abort(),(0,s.Z)('body > script[src^="//platform.instagram.com"]').remove(),b.instagramInitXhr=s.Z.ajax({url:d.default.selectProtocol("//platform.instagram.com/en_US/embeds.js"),dataType:"script",cache:!0,success:function(){o.Z.each(b.instagramEmbedCallbacks,(function(t){o.Z.isFunction(t)&&t()}))}})},g.Instagram=w.extend({embed_type:"instagram",containerSelector:"iframe",resizable:!0,initialize:function(t){w.prototype.initialize.apply(this,arguments),this.block&&o.Z.extend(this.block.frame,{minwidth:164,minheight:264})},parse:function(t,i){return i(t.replace(/<script.*script>/i,""))},draw:function(t,i,e){var s,n,r,o,a,c=0,d=!1;i.html(t),b.initInstagram(function(){a=setInterval(function(){if(c++,s=i.children(this.containerSelector),(n=s.height())||c>20){if(n||c>50)return n&&"constructor"===RM.common.mode&&(r=s.width(),o=s.height()),clearInterval(a),void e(r,o);if(d)return;d=!0,e()}}.bind(this),100)}.bind(this))},customResizeHandler:function(t,i,e){return t}}),b.pinterestEmbedCallbacks=[],b.initPinterest=function(t){var i,e=0;if(o.Z.isFunction(window.parsePinBtns))return t();b.pinterestEmbedCallbacks.push(t),(0,s.Z)('body > script[src^="assets.pinterest.com/js/pinit.js"]').remove(),(0,s.Z)("body").prepend((0,s.Z)('<script defer src="//assets.pinterest.com/js/pinit.js" data-pin-build="parsePinBtns"><\/script>')),i=setInterval((function(){e++,(o.Z.isFunction(window.parsePinBtns)||e>20)&&(clearInterval(i),t())}),100)},g.Pinterest=w.extend({embed_type:"pinterest",containerSelector:"a",resizable:!1,forceFrameSize:!0,containerSelectors:{buttonPin:"span",buttonFollow:"span",embedPin:"span",embedUser:"span",embedBoard:"span"},parse:function(t,i){var e=t.match(/data-pin-do=\"(\S+)\"/);return o.Z.isArray(e)&&e[1]&&(this.pinterestType=e[1],this.containerSelector=this.containerSelectors[this.pinterestType]||this.containerSelector),i&&i(t.replace(/<script.*script>/i,""))},draw:function(t,i,e){b.initPinterest(function(){var s,n,r,o,a,c,d=0,l=!1;i.html(t),this.pinterestType||this.parse(t[0].outerHTML),this.pinterestType&&i.addClass(this.pinterestType),window.parsePinBtns(i.get(0)),a=setInterval(function(){if(d++,s=i.children(this.containerSelector).filter((function(){return/PIN_\d+/.test(this.className)})),(n=s.height())||d>20){if(n||d>50)return n&&"constructor"===RM.common.mode&&(r=s.outerWidth(!0),o=s.outerHeight(!0),"buttonFollow"==this.pinterestType&&(c=s.children("i")).length&&(r+=(c.outerWidth()||1)-1)),clearInterval(a),void e(r,o);if(l)return;l=!0,e()}}.bind(this),100)}.bind(this))}}),g.FacebookVideo=w.extend({embed_type:"fbvideo",containerSelector:"iframe",resizable:!0,proportional:!0,forceFrameSize:!0,initialize:function(t){w.prototype.initialize.apply(this,arguments),this.block&&o.Z.extend(this.block.frame,{minwidth:220,minheight:124})},parse:function(t,i){return i(t.replace(/<script.*script>/gi,"").replace(/<div\s+id=(\'|\")fb-root(\'|\")><\/div>/gi,""))},draw:function(t,i,e){var s,n,r;i.html(t),h.Z.initFacebookAPI(function(){window.FB.XFBML.parse(i.get(0),function(){s=i.find(this.containerSelector),n=s.width(),r=s.height(),e(n,r)}.bind(this))}.bind(this))}}),b.readymagEmbedCallbacks=[],b.initReadymag=function(t){if(RM.common.isReadymagEmbedInited&&o.Z.isFunction(window.RM_EMBED_parse))return t();b.readymagEmbedCallbacks.push(t),window.RM_EMBED_initAsync=function(){RM.common.isReadymagEmbedInited=!0,o.Z.each(b.readymagEmbedCallbacks,(function(t,i){o.Z.isFunction(t)&&t()})),b.readymagEmbedCallbacks=[]},b.readymagInitXhr||((0,s.Z)('body > script[src~="RM_EMBED_"]').remove(),b.readymagInitXhr=s.Z.ajax({url:l.ZP.EMBED_SCRIPT_MAIN,dataType:"script"}))},g.Readymag=w.extend({embed_type:"readymag",containerSelector:"iframe",resizable:!0,initialize:function(t){w.prototype.initialize.apply(this,arguments),this.block&&this.block.frame&&o.Z.extend(this.block.frame,{minwidth:288,minheight:236,maxwidth:512,maxheight:383})},parse:function(t,i){return i(t.replace(/<script.*script>/i,""))},draw:function(t,i,e){i.html(t),b.initReadymag(function(){window.RM_EMBED_parse(function(){var t=i.find(this.containerSelector),s=t.width(),n=t.height();e(s+2,n)}.bind(this))}.bind(this))}}),g.IFrame=w.extend({embed_type:"simple-iframe",containerSelector:"iframe",resizable:!0,parse:function(t,i){var e;return(e=t.match(/[\s\S]*?(\<iframe[\s\S]*?\>)[\s\S]*?(\<\/iframe\>)[\s\S]*?/i))&&e[1]&&e[2]?i(e[1]+e[2]):i(null)},sanitize:function(t){var i=(0,s.Z)(t);if("object"!==f(i)||!i.length)return i;var e,n=(0,s.Z)("<iframe></iframe>"),r=i.get(0).attributes,a=["allowtransparency","allowfullscreen","height","name","sandbox","scrolling","seamless","src","width","allow"];return(0,o.Z)(r).each((function(t){if("object"===f(t)&&t.specified&&o.Z.contains(a,t.name.toLowerCase())){var i=t.name.toLowerCase(),s=t.value;"src"==i&&"https:"==window.location.protocol&&(s=s.replace(/^http(s?):\/\//i,"//")),"sandbox"===i&&(e=s.split(" ")),n.attr(i,s)}})),this.isInViewer||v(n,e),n},draw:function(t,i,e){var s=t[0].src;if(s&&s.trim())if(RM.screenshot&&u.Z.getVideoProvider(s))this.setPosterInsteadOfVideo(s,i,e);else{i.html(t);var n,r,o,a,c,d=0,l=!1;c=setInterval(function(){if(d++,n=i.children(this.containerSelector),(r=n.height())||d>20){if(r||d>50)return r&&"constructor"===RM.common.mode&&(o=n.width(),a=n.height()),clearInterval(c),void e(o,a);if(l)return;l=!0,e()}}.bind(this),100)}else e()},setPosterInsteadOfVideo:function(t,i,e){var n=u.Z.getVideoProvider(t),r=(0,s.Z)("<img/>");u.Z.getEmbedData(t,(function(t){u.Z.getHighResVideoThumbnail({provider:n,thumbnail_url:t.thumbnail_url}).then(o.Z.bind((function(t){!function(t){r[0].src=t,i.css({"background-color":"#000"}),r.css({position:"absolute",top:0,bottom:0,margin:"auto",width:"100%",height:"auto"}),i.append(r)}(t)}),this))}),(function(){"function"==typeof e&&e()}))}}),g.CodeInjection=w.extend({embed_type:"code-injection",containerSelector:"rm-code-injection",resizable:!0,HEAD_PASSTHROUGH_SELECTOR:"",parse:function(t,i){return i(t)},sanitize:function(t){return s.Z.parseHTML(t,document,!0)},draw:function(t,i,e){var n=(0,s.Z)(document).find("head"),r="<head>",o='<body style="padding:0; margin: 0; width: 100%; height: 100%; min-width: initial; min-height: auto;">',a=n.find(this.HEAD_PASSTHROUGH_SELECTOR),d=(0,s.Z)('<iframe seamless style="width: 100%; height: 100%;"></iframe>'),l=(0,s.Z)("<div></div>");if(!this.isInViewer||this.block&&this.block.model.get("use_iframe")||this.widget&&this.widget.use_iframe){this.isInViewer||v(d),a.each((function(){r+=this.outerHTML})),r+='<script src="https://unpkg.com/jquery@2.2.3/dist/jquery.min.js"><\/script>',r+="</head>",l.html(t),o+=l[0].innerHTML+"</body>";var h='<!DOCTYPE html><html style="width: 100%; height: 100%; min-width: initial; min-height: auto;">'+r+o+"</html>";return i.html(d),d[0].contentWindow.document.open(),d[0].contentWindow.document.write(h),d[0].contentWindow.document.close(),e(d.width(),d.height())}t=(0,s.Z)(t),l.html(t),l.find("script").each((function(){var t,i=this;i.src&&i.text&&((t=document.createElement("script")).text=i.text,i.text="",(0,s.Z)(t).insertAfter((0,s.Z)(i)))})),c()(i,l[0].innerHTML,{done:function(){return e(null,null)}}),i.css({"font-family":"initial","font-weight":"initial"})},loadNodeWithScripts:function(t,i,e){var n,r=(0,s.Z)('<div id="fake"></div>'),a=[];r.html(i),(n=r.find("script")).each((function(){this.src&&this.text?(a.push({src:this.src}),a.push({text:this.text})):a.push({src:this.src,text:this.text})}));var c=o.Z.find(a,(function(t){return!!t.src}));if(!a.length||!c||a<2)t.html(r[0].innerHTML);else{n.remove();var d=0;t.html(r[0].innerHTML),function i(){var s,n,r,o=a[d];if(!o)return e();d++,s=document.createElement("script"),o.src&&(s.src=o.src);o.text&&(s.text=o.text);if(!o.src)return t[0].appendChild(s),i();o.src&&(s.onload=function(){clearInterval(n),i()},r=0,n=setInterval((function(){++r>10&&(s.onload=null,i())}),1e3),t[0].appendChild(s))}()}}}),g.Ecommerce=g.CodeInjection.extend({embed_type:"ecommerce"}),g.Gdpr=g.CodeInjection.extend({embed_type:"gdpr"}),g.Video=g.CodeInjection.extend({embed_type:"html5-video"}),i.Z=b},1025:function(t,i,e){"use strict";e.r(i);var s=e(997),n=e(322),r=e(1026),o=s.Z.extend({render:function(){this.makeBox("widget-iframe"),this.rendered=!0;var t=this.getPluginClass();return t?(this.plugin=new t({widget:this}),this.$el.addClass(this.plugin.embed_type),this.started?this.drawPlugin():(this.contentCleared=!0,!RM.screenshot&&!this.drawInProgress&&this.widgetIsLoaded()),this):(this.widgetIsLoaded(),this)},drawPlugin:function(){this.$el.empty(),this.contentCleared=!1,this.drawInProgress=!0,this.plugin.parse(this.code,function(t){if(this.$data=this.plugin.sanitize(t),RM.screenshot&&setTimeout(n.Z.bind((function(){this.widgetIsLoaded()}),this),5e3),this.plugin.draw(this.$data,this.$el,function(t,i){var e=RM.screenshot?5e3:2e3;this.loadTimeout=setTimeout(function(){this.drawInProgress=!1,this.destroyed||(this.widgetIsLoaded(),this.$data.off&&this.$data.off("load"),this.started||this.clearContent())}.bind(this),e)}.bind(this)),!RM.screenshot){if(!n.Z.isFunction(this.$data.one))return;this.$data.one("load",function(){this.drawInProgress=!1,!this.destroyed&&this.started&&(this.widgetIsLoaded(),clearTimeout(this.loadTimeout))}.bind(this))}}.bind(this))},widgetIsLoaded:function(){this.loaded||this.destroyed||(this.loaded=!0,this.trigger("loaded"))},isValid:function(){return this.code&&this.getPluginClass()},start:function(){return this.started=!0,this.destroyed||!this.rendered||this.contentCleared&&this.drawPlugin(),this},stop:function(){return this.started=!1,this.plugin?(this.widgetIsLoaded(),this.drawInProgress?void 0:(this.clearContent(),this)):this},clearContent:function(){this.clear_content&&(this.$el.empty(),this.contentCleared=!0)},getPluginClass:function(){return r.Z.findPlugin(this)},destroy:function(){return this.clearContent(),this.plugin&&this.plugin.remove(),s.Z.prototype.destroy.apply(this,arguments)}});i.default=o},1028:function(t){var i="codeinjection",e={instagram:[/^\s*<blockquote\s+class=.instagram-media.*<\/blockquote>\s*<script.*src=.*instagram.+>.*<\/script>\s*$/gi],pinterest:[/^\s*<a.*data-pin-do=.*<\/a>([\s\S]*<script.*src=.*pinterest.+>.*<\/script>)?\s*$/i],facebookvideo:[/^\s*<div\s+id=.fb-root.*<\/div>[\s\S]*<script>.*src.*facebook.*sdk.*<\/script>[\s\S]*<div\s+class=.fb-video.*<\/div>\s*$/i],readymag:[/^\s*<a\s+class=.rm-mag-embed.*<\/a>[\s\S]*<script.+id=.readymag-embed-init.+><\/script>\s*$/i],ecommerce:[/^\s*<form\s+action=.*method=.*POST.+>[\s\S]*<script.*src=.*stripe.+>.*<\/script>[\s\S]*<\/form>\s*$/gim,/^\s*(<!--.*-->)?[\s\S]*<script.*src=.*stripe.+>[\s\S]*<\/script>[\s\S]*(<!--.*-->)?[\s\S]*<button .*>.*<\/button>[\s\S]*<div .*>.*<\/div>[\s\S]*<script>.*stripe.*<\/script>\s*$/gim,/^\s*<div\s+id=.+>[\s\S]*<\/div>[\s\S]*<script[\s\S]*scriptUrl[\s\S]*shopifycdn[\s\S]*>*<\/script>.*$/gim,/^\s*<script\s+src=.*gumroad.+><\/script>[\s\S]*<div\s+class=.gumroad-product-embed.+>[\s\S]*<\/div>\s*$/gim,/^\s*<script\s+src=.*gumroad.+><\/script>[\s\S]*<a\s+class=.gumroad-button.+>[\s\S]*<\/a>\s*$/gim,/^\s*<div\s+class=.*ecwid.+><\/div>[\s\S]*<script.+ecwid.+>.*<\/script>[\s\S]*<script.*>.*xProduct.*<\/script>\s*$/gim,/^\s*<div\s+class=.*ecsp.+><\/div>[\s\S]*<script.+ecwid.+>.*<\/script>[\s\S]*<script.*>.*xProduct.*<\/script>\s*$/gim,/^\s*<div\s+class=.*ec-cart-widget.+><\/div>[\s\S]*<div>[\s\S]*<script.+ecwid.+>.*<\/script>[\s\S]*<script.*>.*Ecwid.*<\/script>[\s\S]*<\/div>\s*$/gim,/^\s*<div\s+id=.*.+><\/div>[\s\S]*<script.+ecwid.+>.*<\/script>[\s\S]*<script.*>.*xProduct.*<\/script>[\s\S]*<\/div>\s*$/gim],gdpr:[/^\s*<a\s+href="https:\/\/www\.iubenda\.com\/privacy-policy\/\d+"[\w\d\s/:;.,'"=-]*>[\w\d\s/:;.,'"=-]*<\/a>\s*<script[\w\d\s/:;.,'"=-]*>\(function\s*\(w,d\)\s*{[\s\S]*s\.src="https:\/\/cdn\.iubenda\.com\/iubenda\.js";[\s\S]*}\)\([\w\s,]*\);<\/script\s*>\s*$/gim,/^\s*<script[\w\d\s/:;.,'="-]*src="https:\/\/consent\.cookiebot\.com\/[\w\d-]+\/cd\.js"[\w\d\s/:;.,'="-]*><\/script\s*>\s*$/gim,/^\s*<script\s*(type="text\/javascript"){0,1}\s*>\s*var\s+cpm\s*=\s*{};\s*\(function\(h,u,b\){[\w\d\s()[\]{}/.,:;="'-]+e\.src='https:\/\/cookiehub\.net(\/dev){0,1}\/c2\/[\w\d-]+\.js';[\w\d\s()[\]{}/.,:;="'-]+}\)\([\w\d\s,]+\);\s*<\/script\s*>\s*$/gim],video:[/^\s*<video[\s\S]*>[\s\S]*<\/video>\s*$/gim],iframe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=t.replace(/<!--[\s\S]*-->/gi,"");return/^\s*<iframe[\s\S]*>[\s\S]*<\/iframe>\s*$/i.test(i)}};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,n=t.trim();for(var r in e){var o=e[r];if("function"==typeof o)return o(n,s)?r:i;for(var a in o)if("function"==typeof(a=o[a])){if(a(n,s))return r}else{var c=new RegExp(a.source,a.flags);if(c.test(n.replace(/\n/g,"")))return r}}return i}}}]);